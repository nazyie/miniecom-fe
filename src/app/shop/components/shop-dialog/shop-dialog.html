<dialog open class="modal">
  <div class="modal-box w-full max-w-5xl">
    <h3 class="font-bold text-primary text-lg mb-4">{{ formTitle }}</h3>

    <div role="tablist" class="tabs tabs-lift flex-nowrap w-full overflow-x-auto">
      <a role="tab" class="tab flex-shrink-0" [class.tab-active]="pageIndex == 0"
        (click)="navigatePage(0)">Maklumat Utama</a>
      <a role="tab" class="tab flex-shrink-0" [class.tab-active]="pageIndex == 1"
        (click)="navigatePage(1)">Tetapan Pesanan</a>
      <a role="tab" class="tab flex-shrink-0" [class.tab-active]="pageIndex == 2"
        (click)="navigatePage(2)">Tetapan Pembayaran</a>
    </div>

      @switch (pageIndex) {
        @case (0) {
          <app-shop-detail />
        }
        @case (1) {
          <app-shop-ordering />
        }
        @case (2) {
          <app-shop-payment />
        }
      }

      <div class="modal-action mt-6 flex justify-between items-center">
        <!-- Left side (Delete if applicable, otherwise empty placeholder) -->
        <div>
          @if (formMode === 'UPDATE') {
          <button class="btn rounded-4xl py-2 btn-error" type="button" (click)="delete()">
            Padam
          </button>
          }
        </div>

        <!-- Right side (Cancel + Submit always stay on right) -->
        <div class="flex gap-2">
          <button class="btn rounded-4xl py-2 btn-secondary" type="button" (click)="close()">
            Tutup
          </button>
          <button class="btn rounded-4xl py-2 btn-primary" type="button" (click)="submit()">
            {{ submitLabel }}
          </button>
        </div>
      </div>
  </div>
</dialog>
