<div class="w-full p-4 bg-white rounded-2xl shadow-lg">
  <!-- Header -->
  <div class="flex items-center justify-between mb-4">
    <button (click)="prevMonth()" class="p-2 rounded hover:bg-gray-100">‹</button>
    <h2 class="font-semibold text-lg">
      {{ currentYear }} - {{ currentMonth + 1 | number: '2.0' }}
    </h2>
    <button (click)="nextMonth()" class="p-2 rounded hover:bg-gray-100">›</button>
  </div>

  <!-- Days of Week -->
  <div class="grid grid-cols-7 text-center text-xs sm:text-sm font-medium text-gray-500">
    @for (d of ['Su','Mo','Tu','We','Th','Fr','Sa']; track d) {
      <div>{{ d }}</div>
    }
  </div>

  <!-- Calendar -->
  <div class="grid grid-cols-7 text-center mt-2 gap-1 sm:gap-y-2">
    @for (week of weeks; track week) {
      @for (day of week; track day.date) {
        <div
          (click)="selectDate(day.date, day.inCurrentMonth)"
          class="relative flex items-center justify-center aspect-square rounded-full cursor-pointer transition duration-200 text-xs sm:text-sm md:text-base"
          [class.bg-primary]="isSelected(day.date)"
          [class.text-white]="isSelected(day.date)"
          [class.bg-blue-100]="isInRange(day.date)"
          [class.text-gray-400]="!day.inCurrentMonth"
          [class.bg-red-300]="isDisabled(day.date)"
        >
          {{ day.date.split('-')[2] }}

          @if (getLabel(day.date)) {
            <span class="absolute bottom-0 text-[0.55rem] sm:text-[0.65rem] text-gray-600">
              {{ getLabel(day.date) }}
            </span>
          }
        </div>
      }
    }
  </div>
</div>
